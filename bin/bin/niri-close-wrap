#!/bin/bash

output=$(niri msg focused-window)

app_id_line=$(echo "$output" | grep "App ID:")

if [[ "$app_id_line" == *"App ID: \"org.freedesktop.Xwayland\""* || "$app_id_line" == *"App ID: \"foot"* ]]; then
    notify-send --icon="dialog-warning" "Niri" "Use Ctrl+Shift+Super+Q if you really want to close it." -t 2000 -e
else
    niri msg action close-window
fi

